{% extends 'base.html' %}

{% block title %}My Profile - {{ user.username }}{% endblock %}

{% block content %}
<div class="container">
    <div class="row justify-content-center">
        <div class="col-lg-8">
            <!-- Use the content-card for a consistent outer container -->
            <div class="content-card p-0">
                
                <!-- Profile Header -->
                <div class="p-4 bg-light text-center rounded-top">
                    <img src="{{ profile.avatar.url }}" 
                         class="rounded-circle img-thumbnail mb-3" 
                         alt="Profile Picture" 
                         style="width: 150px; height: 150px; object-fit: cover;">
                    <h2 class="mb-0">@{{ profile.user.username }}</h2>
                    <p class="text-muted mb-3">{{ profile.occupation|default:'No occupation set' }}</p>
                    <a href="{% url 'profile_edit' %}" class="btn btn-primary btn-sm">
                        <i class="bi bi-pencil-square me-1"></i> Edit Profile
                    </a>
                </div>

                <!-- Profile Details -->
                <div class="p-4">
                    <h5 class="mb-3">Contact Information</h5>
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item d-flex align-items-center border-0 px-0">
                            <i class="bi bi-envelope-fill text-muted me-3" style="font-size: 1.2rem;"></i>
                            <span>{{ profile.user.email }}</span>
                        </li>
                        <li class="list-group-item d-flex align-items-center border-0 px-0">
                            <i class="bi bi-geo-alt-fill text-muted me-3" style="font-size: 1.2rem;"></i>
                            <span>{{ profile.address|default:'No address provided' }}</span>
                        </li>
                    </ul>

                    <hr class="my-4">

                    <h5 class="mb-3">Social Links</h5>
                    <div class="d-flex gap-2">
                        {% if profile.github %}
                            <a href="{{ profile.github }}" target="_blank" class="btn btn-dark d-inline-flex align-items-center">
                                <i class="bi bi-github me-2"></i> GitHub
                            </a>
                        {% endif %}
                        {% if profile.linkedin %}
                            <a href="{{ profile.linkedin }}" target="_blank" class="btn btn-primary d-inline-flex align-items-center" style="background-color: #0077B5; border-color: #0077B5;">
                                <i class="bi bi-linkedin me-2"></i> LinkedIn
                            </a>
                        {% endif %}
                        {% if not profile.github and not profile.linkedin %}
                            <p class="text-muted">No social links have been added yet.</p>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
